<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />

		<title>robot car</title>
		
		<link href="/static/css/bootstrap.min.css" rel="stylesheet">
		<script src="/static/jquery/jquery-2.1.3.min.js"></script>
		<script src="/static/jquery/jquery.cookie.js"></script>
		
		<style>
		.btn-my{ width: 100px; height: 100px; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;color:blue;outline-style:none;}
		</style>
	</head>
	<body >
	    <div class="container" >
        {% csrf_token %}
	    	<div style="padding: 0 35% 0 35%;" >
	    		<div id="my-up"><button  class='btn btn-my'  style="-webkit-user-select: none;-moz-user-select: none;" onmousedown="up()"  onmouseup="tostop()" >up</button></div>
	    	</div>
	    	<div style="padding:0 24%">
	    		<button  class='btn btn-my' id="my-left" style="-webkit-user-select: none;-moz-user-select: none;"  onmousedown="left()"  onmouseup="tostop()" >left</button>

	    		<button  class='btn btn-my' id="my-down" style="-webkit-user-select: none;-moz-user-select: none;"  onmousedown="down()"  onmouseup="tostop()">down</button>

	    		<button  class='btn btn-my' id="my-right" style="-webkit-user-select: none;-moz-user-select: none;" onmousedown="right()"  onmouseup="tostop()">right</button>
	    	</div>
	    </div>
	</body>

	<script>
 
		function up()
		{

			$.ajax({
            type:"POST",
            url:"get_control/",
            data:{"control":"up"},
            beforeSend:function(xhr){
                xhr.setRequestHeader("X-CSRFToken", $.cookie('csrftoken'));  
            },
            success:function(data,textStatus){

            },
            error:function(XMLHttpRequest, textStatus, errorThrown){
                alert(XMLHttpRequest.responseText);
            }

        });
		}
		function down()
		{
			$.ajax({
            type:"POST",
            url:"get_control/",
            data:{"control":"down"},
            beforeSend:function(xhr){
                xhr.setRequestHeader("X-CSRFToken", $.cookie('csrftoken'));  
            },
            success:function(data,textStatus){

            },
            error:function(XMLHttpRequest, textStatus, errorThrown){
                alert(XMLHttpRequest.responseText);
            }

        });
		}
		function tostop()
		{

			$.ajax({
            type:"POST",
            url:"get_control/",
            data:{"control":"stop"},
            beforeSend:function(xhr){
                xhr.setRequestHeader("X-CSRFToken", $.cookie('csrftoken'));  
            },
            success:function(data,textStatus){

            },
            error:function(XMLHttpRequest, textStatus, errorThrown){
                alert(XMLHttpRequest.responseText);
            }

        });
		}
		function left()
		{
			$.ajax({
            type:"POST",
            url:"get_control/",
            data:{"control":"left"},
            beforeSend:function(xhr){
                xhr.setRequestHeader("X-CSRFToken", $.cookie('csrftoken'));  
            },
            success:function(data,textStatus){

            },
            error:function(XMLHttpRequest, textStatus, errorThrown){
                alert(XMLHttpRequest.responseText);
            }

        });
		}
		function right()
		{
			$.ajax({
            type:"POST",
            url:"get_control/",
            data:{"control":"right"},
            beforeSend:function(xhr){
                xhr.setRequestHeader("X-CSRFToken", $.cookie('csrftoken'));  
            },
            success:function(data,textStatus){
       
            },
            error:function(XMLHttpRequest, textStatus, errorThrown){
                alert(XMLHttpRequest.responseText);
            }

        });
		}

  
    document.getElementById("my-up").addEventListener('touchstart',touch1, false);  
    document.getElementById("my-up").addEventListener('touchend',touch1, false);  
      
    function touch1 (event){  
        var event = event || window.event;  
          
        switch(event.type){  
            case "touchstart":  
                up();
                break;  
            case "touchend":  
            	tostop();
                break;  
        }  
          
    }

    document.getElementById("my-down").addEventListener('touchstart',touch2, false);  
    document.getElementById("my-down").addEventListener('touchend',touch2, false);  
      
    function touch2 (event){  
        var event = event || window.event;  
          
        switch(event.type){  
            case "touchstart":  
                down();
                break;  
            case "touchend":  
            	tostop();
                break;  
        }  
          
    }

    document.getElementById("my-left").addEventListener('touchstart',touch3, false);  
    document.getElementById("my-left").addEventListener('touchend',touch3, false);  
      
    function touch3 (event){  
        var event = event || window.event;  
          
        switch(event.type){  
            case "touchstart":  
                left();
                break;  
            case "touchend":  
            	tostop();
                break;  
        }  
          
    }

    document.getElementById("my-right").addEventListener('touchstart',touch4, false);  
    document.getElementById("my-right").addEventListener('touchend',touch4, false);  
      
    function touch4 (event){  
        var event = event || window.event;  
          
        switch(event.type){  
            case "touchstart":  
                right();
                break;  
            case "touchend":  
            	tostop();
                break;  
        }  
          
    }


	</script>
</html> 